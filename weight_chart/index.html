<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Free Online Weight Tracker - Track Your Body Weight Progress with Charts</title>
  <meta name="description" content="Free online weight tracking tool with visual charts and multi-user support. Track your weight progress over time with easy daily input. Create up to 5 user profiles for family weight tracking. Export progress images and data. All data is stored locally in your browser - nothing is uploaded to any server.">
  <meta name="keywords" content="free weight tracker, online weight tracker, weight chart, body weight, weight loss, fitness tracker, daily weight, health tracking, weight monitoring, BMI tracker, weight management, fitness app, health app, weight diary, weight journal, weight progress, body weight chart, weight goal, target weight, weight statistics, weight history, diet tracker, wellness tracker, health dashboard, weight visualization, pounds to kg converter, metric imperial units, free online chart, weight chart online, export weight chart, weight progress image, weight report export, multi-user weight tracker, family weight tracking, multiple user profiles">
  
  <!-- Facebook Meta Tags -->
  <meta property="og:title" content="Free Online Weight Tracker - Track Your Body Weight Progress with Charts">
  <meta property="og:description" content="Free online weight tracking tool with visual charts and multi-user support. Track your weight progress over time with easy daily input. Create up to 5 user profiles for family weight tracking. Export progress images and data. All data is stored locally in your browser - nothing is uploaded to any server.">
  <meta property="og:image" content="https://s21.ax1x.com/2025/09/17/pVhPQOS.png">
  <meta property="og:url" content="https://www.itwork.club/weight/">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Weight Tracker">
  
  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Free Online Weight Tracker - Track Your Body Weight Progress with Charts">
  <meta name="twitter:description" content="Free online weight tracking tool with visual charts and multi-user support. Track your weight progress over time with easy daily input. Create up to 5 user profiles for family weight tracking. Export progress images and data. All data is stored locally in your browser - nothing is uploaded to any server.">
  <meta name="twitter:image" content="https://s21.ax1x.com/2025/09/17/pVhPQOS.png">
  
  <!-- SEO Meta Tags -->
  <meta name="author" content="Weight Tracker">
  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
  <meta name="googlebot" content="index, follow">
  <meta name="language" content="EN">
  <meta name="distribution" content="global">
  <meta name="rating" content="general">
  <meta name="revisit-after" content="7 days">
  <meta name="theme-color" content="#4A90E2">
  <meta name="msapplication-TileColor" content="#4A90E2">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Weight Tracker">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://www.itwork.club/weight/">
  
  <!-- Alternative languages -->
  <link rel="alternate" hreflang="en" href="https://www.itwork.club/weight/">
  <link rel="alternate" hreflang="x-default" href="https://www.itwork.club/weight/">
  
  <!-- DNS Prefetch for performance -->
  <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  
  <!-- Mobile friendly -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAHdElNRQfpCREDCB4ourtTAAAAAW9yTlQBz6J3mgAAAMplWElmSUkqAAgAAAAHABIBAwABAAAAAQAAABoBBQABAAAAYgAAABsBBQABAAAAagAAACgBAwABAAAAAgAAADEBAgAKAAAAcgAAABMCAwABAAAAAQAAAGmHBAABAAAAfAAAAAAAAABIAAAAAQAAAEgAAAABAAAAZXpnaWYuY29tAAYAAJAHAAQAAAAwMjEwAZEHAAQAAAABAgMAAKAHAAQAAAAwMTAwAaADAAEAAAD//wAAAqAEAAEAAAAAAgAAA6AEAAEAAAAAAgAAAAAAABC0uIQAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjUtMDktMTdUMDM6MDg6MjYrMDA6MDBs4SGkAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDI1LTA5LTE3VDAzOjA4OjI2KzAwOjAwHbyZGAAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyNS0wOS0xN1QwMzowODozMCswMDowMOXTjWMAAAAVdEVYdGV4aWY6Q29sb3JTcGFjZQA2NTUzNTN7AG4AAAAgdEVYdGV4aWY6Q29tcG9uZW50c0NvbmZpZ3VyYXRpb24ALi4uavKhZAAAABN0RVh0ZXhpZjpFeGlmT2Zmc2V0ADEwMnNCKacAAAAVdEVYdGV4aWY6RXhpZlZlcnNpb24AMDIxMLh2VngAAAAZdEVYdGV4aWY6Rmxhc2hQaXhWZXJzaW9uADAxMDAS1CisAAAAGHRFWHRleGlmOlBpeGVsWERpbWVuc2lvbgA1MTK2LrjcAAAAGHRFWHRleGlmOlBpeGVsWURpbWVuc2lvbgA1MTIrIVmqAAAAF3RFWHRleGlmOllDYkNyUG9zaXRpb25pbmcAMawPgGMAAAAxdEVYdENvbW1lbnQAUE5HIHJlc2l6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9yZXNpemVeSdviAAAAEnRFWHRTb2Z0d2FyZQBlemdpZi5jb22gw7NYAAAE8klEQVRYw72WWWxVVRSGv73vuWNHOoAVw6SWGY3RGKcHNNonTQxTmERi1GjQRAY1PmhINDGoCRGiQYYEAgEKD0bU0DIUEx4MkhrERECwtAGKpfMdeu6Zlg/n3oJ0oLet/k/n7Jyz1r/+9e+1t6IfyK7joJX/ojUEQ2Nw7LG4bg/QDNhoDZ6HWjaXkUD3u1q2EyJ/gDk9gqdfbe9sPxRPJY8Ax4AdwBw8b0SJszD6VP/jCv+hqDqE0fIR6fvXxrtChqGCbkEk2o7IMmAaMA9oGikBPcC6wp74NqGG1T2J74wKoyM+vrj0fUSeBPYCDwPPjoYCAxEoRasVXiodSl65Tqr91BdfLXnqc5S6ALRkvomOBoE+LYibQiSoONPocv1Kmqm2d7AkUbvxzb2nCnGTa4HXgEbgJwDZXdd/ZBHU8qdzJ7DpuM3EUtVZfdo5ZzlG633R0BublhyIYCU3A/MzyVcBZxE0imnAzEysP4GzQBqtkd11d9wlfVqw9FGD6tOOY9rs8kR9vfnbY61YqQ8zyS8BLwPfA6UoNgBHEdkH7AFqge3AVEQYVKEM1O0LVVULe9WpqakW2XNiJiJHgUJgOSIHCAVj2M5mYCUimG1dGLEIKNCGgQ4ZZxBWoTiJZBINoEQfBWpqqrOPTvvWH1xEZgPlbtpqTzQ11/e0tON0JV4ElvqRFcG8KHZ3gp7mNux4EnHlARHZgfBYryUGUEIxCDI/vYJS2+zuhNt1oWmbm7bqC++9Z010XGml/xG4ZhoUKK1Jt3fhmhbh0mKChXm/IDKfzLzoTwXNnfE7Ip1GXjQQu7vs9VhF2ZZQUX4lSvWW4KYtkldacE2LUHEB4bJinGQK8bxHgDUgGkDq6oZFoB7YrrSWWEU5BZPHE4iEcXtMskYz8mMYsQjpjm7Mti7s7iQohTguwGJQDwJwdQge6Ac2sB74AH+bOQBWZxzXtEApdNAgelepTyYaIViYhwpozNYOnJRZDjzv+WT6wBg8t2RtEgf1KYg/hpWa5tnu9ERT87xYRXkkEA2jjQDhkkLTSZnHwmVFiWBBXkBcb5Jrph/yLPsJXVwQJmWmcyKglvmTzDejgD+EGt2eNPHL10KBkHHRTqTWacOIhYoLLudPrLCC+bGTuN5nlJS4qrNzjBENr0Cp+aTMQuBGjgpkidx0r+w+Ttuv5wiEgxbwsbjeBNexVqaaW7fmTxl/GNfbAOTR0bEVaELrLxH5e6DYQ/FAH1VUsLefDvAbClFanU82Xa8H3gEWA0eAZxDxENkPtI4KAYCxG1dnWwLQALRGdeDSnPcWAYwHwkAl8LjPWnm3/pBzC27Fc88tQCnF8vMnWVA2iSVjJ1+8YZsNO1r/mvjzN4cWAS/g75x9wH4APEG91P/JmBOBqqqFaK3x/OuYsf9GQ+WRzmtzxwUj7lXHnFDV3Vlbnl+0E8+N4xvOyjRuwJhDJlBVtRClVDb5DGCVVqq5w7HOtNnpoynH2tJj21ZfpQeuPkcFJDv4ZmXkbQTeVUBAqRkFwbBef+LwrYfZkJCDCXtlnAXUAW8BCSDIHQ61wZCTB5RSiMjBSCS0zzStf8vzXxMQUdk8zm3JR0RiyARqa/f3WcvcnoYtPwxzEI0mch5ENyvvHccykkJGoEAAYAz+bXnKrYz+JwLMBrYA64AzZC4quWJYLcigGfgEMPEPpGHhH8fNBjBar7rDAAAAAElFTkSuQmCC">
  
  <!-- Chart.js for data visualization - loaded asynchronously -->
  <script>
    // Load Chart.js asynchronously to prevent blocking page render
    window.chartJsLoaded = false;
    const script = document.createElement('script');
    script.src = 'https://cdn.jsdelivr.net/npm/chart.js';
    script.onload = function() {
      // Load annotation plugin after Chart.js
      const annotationScript = document.createElement('script');
      annotationScript.src = 'https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@2';
      annotationScript.onload = function() {
        window.chartJsLoaded = true;
        console.log('Chart.js and annotation plugin loaded asynchronously');
        if (window.initChart) {
          window.initChart();
        }
      };
      document.head.appendChild(annotationScript);
    };
    document.head.appendChild(script);

    // Load HTML2Canvas for image export
    window.html2canvasLoaded = false;
    const html2canvasScript = document.createElement('script');
    html2canvasScript.src = 'https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js';
    html2canvasScript.onload = function() {
      window.html2canvasLoaded = true;
      console.log('HTML2Canvas loaded asynchronously');
    };
    document.head.appendChild(html2canvasScript);

    // Load i18next for internationalization
    window.i18nextLoaded = false;
    const i18nextScript = document.createElement('script');
    i18nextScript.src = 'https://cdn.jsdelivr.net/npm/i18next@23.7.6/i18next.min.js';
    i18nextScript.onload = function() {
      // Load browser language detector
      const detectorScript = document.createElement('script');
      detectorScript.src = 'https://cdn.jsdelivr.net/npm/i18next-browser-languagedetector@7.2.0/i18nextBrowserLanguageDetector.min.js';
      detectorScript.onload = function() {
        window.i18nextLoaded = true;
        console.log('i18next loaded asynchronously');
        if (window.initI18n) {
          window.initI18n();
        }
      };
      document.head.appendChild(detectorScript);
    };
    document.head.appendChild(i18nextScript);
  </script>
  
  <!-- Structured Data (JSON-LD) for SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Free Online Weight Tracker",
    "description": "Free online weight tracking tool with visual charts and multi-user support. Track your weight progress over time with easy daily input. Create up to 5 user profiles for family weight tracking. Export progress images and data reports. All data is stored locally in your browser - nothing is uploaded to any server.",
    "url": "https://www.itwork.club/weight/",
    "image": "https://s21.ax1x.com/2025/09/17/pVhPQOS.png",
    "applicationCategory": "HealthApplication",
    "operatingSystem": "Web Browser",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "featureList": [
      "Free online weight tracking",
      "Visual weight progress charts",
      "Interactive weight charts",
      "Export progress images and reports",
      "Target weight goal setting",
      "Local data storage",
      "Privacy-focused (no data upload)",
      "Mobile responsive design",
      "Metric and Imperial units",
      "Multi-user support (up to 5 users)",
      "Isolated user data storage"
    ],
    "browserRequirements": "Modern web browser with JavaScript enabled",
    "author": {
      "@type": "Organization",
      "name": "Weight Tracker",
      "url": "https://www.itwork.club/weight/"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Weight Tracker",
      "url": "https://www.itwork.club/weight/"
    },
    "keywords": [
      "free weight tracker",
      "online weight tracker",
      "weight chart",
      "body weight",
      "weight loss",
      "fitness tracker",
      "daily weight",
      "health tracking",
      "weight monitoring",
      "BMI tracker",
      "weight management",
      "fitness app",
      "health app",
      "free online chart",
      "weight chart online",
      "multi-user weight tracker",
      "family weight tracking",
      "multiple user profiles"
    ]
  }
  </script>
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
      min-height: 100vh;
      padding: 20px;
    }
    
    .container {
      max-width: 900px;
      margin: 0 auto;
      background: #ffffff;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
      border: 1px solid #e0f2fe;
    }
    
    h1 {
      text-align: center;
      color: #0f172a;
      margin-bottom: 10px;
      font-weight: 500;
      font-size: 2.5rem;
    }
    
    .tagline {
      text-align: center;
      color: #64748b;
      font-size: 16px;
      margin-bottom: 30px;
      font-style: italic;
    }
    
    .quick-input {
      background: #f8fafc;
      padding: 25px;
      border-radius: 12px;
      margin-bottom: 30px;
      border: 1px solid #e2e8f0;
      text-align: center;
    }
    
    .quick-input h3 {
      color: #1e293b;
      margin-bottom: 20px;
      font-size: 18px;
      font-weight: 500;
    }
    
    .weight-input-group {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 15px;
      flex-wrap: wrap;
    }
    
    .weight-input {
      padding: 15px 20px;
      border: 2px solid #cbd5e0;
      border-radius: 10px;
      font-size: 24px;
      font-weight: 600;
      text-align: center;
      width: 150px;
      background: #ffffff;
      transition: all 0.3s ease;
    }
    
    .weight-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }
    
    .unit-selector {
      display: flex;
      gap: 10px;
    }
    
    .unit-btn {
      padding: 8px 16px;
      border: 2px solid #e2e8f0;
      background: #ffffff;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
    }
    
    .unit-btn.active {
      background: #3b82f6;
      color: white;
      border-color: #3b82f6;
    }
    
    .add-btn {
      background: linear-gradient(45deg, #10b981, #059669);
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 10px;
      font-size: 18px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .add-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3);
    }
    
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 15px;
      margin-bottom: 30px;
    }
    
    .stat-card {
      background: #f8fafc;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      border: 1px solid #e2e8f0;
    }
    
    .stat-value {
      font-size: 24px;
      font-weight: bold;
      color: #1e293b;
      margin-bottom: 5px;
    }
    
    .stat-label {
      font-size: 14px;
      color: #64748b;
    }
    
    .chart-container {
      background: #ffffff;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 30px;
      border: 1px solid #e2e8f0;
      height: 400px;
      position: relative;
    }
    
    .loading-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(255, 255, 255, 0.9);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      border-radius: 12px;
      z-index: 10;
    }
    
    .loading-spinner {
      width: 40px;
      height: 40px;
      border: 4px solid #e2e8f0;
      border-top: 4px solid #3b82f6;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 15px;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .loading-text {
      color: #64748b;
      font-size: 14px;
      font-weight: 500;
    }
    
    .recent-entries {
      background: #f8fafc;
      padding: 20px;
      border-radius: 12px;
      border: 1px solid #e2e8f0;
    }
    
    .recent-entries h3 {
      color: #1e293b;
      margin-bottom: 15px;
      font-size: 18px;
      font-weight: 500;
    }
    
    .entry-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 0;
      border-bottom: 1px solid #e2e8f0;
    }
    
    .entry-item:last-child {
      border-bottom: none;
    }
    
    .entry-date {
      font-weight: 500;
      color: #374151;
    }
    
    .entry-weight {
      font-weight: bold;
      color: #1e293b;
    }
    
    .entry-change {
      font-size: 14px;
      padding: 4px 8px;
      border-radius: 6px;
    }
    
    .entry-change.positive {
      background: #fee2e2;
      color: #dc2626;
    }
    
    .entry-change.negative {
      background: #dcfce7;
      color: #16a34a;
    }
    
    .entry-change.neutral {
      background: #f1f5f9;
      color: #64748b;
    }
    
    .delete-btn {
      background: #ef4444;
      color: white;
      border: none;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      cursor: pointer;
      opacity: 0.7;
      transition: opacity 0.3s ease;
    }
    
    .delete-btn:hover {
      opacity: 1;
    }
    
    /* How to Use Section */
    .how-to-use {
      background: #f0f9ff;
      padding: 25px;
      border-radius: 12px;
      border: 1px solid #bae6fd;
      margin-top: 30px;
    }
    
    .how-to-use h3 {
      color: #0f172a;
      margin-bottom: 20px;
      font-size: 20px;
      font-weight: 600;
      text-align: center;
    }
    
    .usage-content {
      display: flex;
      flex-direction: column;
      gap: 25px;
    }
    
    .usage-section {
      background: white;
      padding: 20px;
      border-radius: 10px;
      border: 1px solid #e0f2fe;
    }
    
    .usage-section h4 {
      color: #0369a1;
      margin-bottom: 12px;
      font-size: 16px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .usage-section p {
      color: #475569;
      line-height: 1.6;
      margin-bottom: 10px;
    }
    
    .usage-steps {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .step {
      display: flex;
      align-items: flex-start;
      gap: 15px;
      padding: 15px;
      background: #f8fafc;
      border-radius: 8px;
      border-left: 4px solid #3b82f6;
    }
    
    .step-number {
      background: #3b82f6;
      color: white;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 14px;
      flex-shrink: 0;
    }
    
    .step-content strong {
      color: #1e293b;
      display: block;
      margin-bottom: 5px;
    }
    
    .step-content p {
      margin: 0;
      font-size: 14px;
      color: #64748b;
    }
    
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 15px;
    }
    
    .feature-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 15px;
      background: #f8fafc;
      border-radius: 8px;
      border: 1px solid #e2e8f0;
    }
    
    .feature-icon {
      font-size: 24px;
      flex-shrink: 0;
    }
    
    .feature-item strong {
      color: #1e293b;
      display: block;
      margin-bottom: 4px;
      font-size: 14px;
    }
    
    .feature-item p {
      margin: 0;
      font-size: 13px;
      color: #64748b;
    }
    
    .tips-list, .settings-list {
      margin: 0;
      padding-left: 20px;
    }
    
    .tips-list li, .settings-list li {
      margin-bottom: 8px;
      color: #475569;
      line-height: 1.5;
    }
    
    .tips-list strong, .settings-list strong {
      color: #1e293b;
    }
    
    .empty-state {
      text-align: center;
      color: #64748b;
      padding: 40px 20px;
      font-size: 16px;
    }
    
    .empty-state-icon {
      font-size: 48px;
      margin-bottom: 15px;
      opacity: 0.5;
    }
    
    /* Settings Button */
    .settings-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 56px;
      height: 56px;
      background: #60a5fa;
      border: none;
      border-radius: 50%;
      color: white;
      font-size: 20px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(96, 165, 250, 0.3);
      transition: all 0.3s ease;
      z-index: 1000;
    }
    
    .settings-btn:hover {
      background: #3b82f6;
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
    }
    
    /* User Management Button */
    .user-btn {
      position: fixed;
      bottom: 90px;
      right: 20px;
      width: 56px;
      height: 56px;
      background: #10b981;
      border: none;
      border-radius: 50%;
      color: white;
      font-size: 20px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
      transition: all 0.3s ease;
      z-index: 1000;
    }
    
    .user-btn:hover {
      background: #059669;
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(5, 150, 105, 0.4);
    }
    
    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 2000;
      justify-content: center;
      align-items: center;
    }
    
    .modal-content {
      background: white;
      border-radius: 15px;
      padding: 30px;
      max-width: 400px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      position: relative;
    }
    
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
      padding-bottom: 15px;
      border-bottom: 1px solid #e2e8f0;
    }
    
    .modal-title {
      font-size: 24px;
      font-weight: 600;
      color: #1e293b;
      margin: 0;
    }
    
    .close-btn {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #64748b;
      padding: 0;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .close-btn:hover {
      color: #1e293b;
    }
    
    .modal-section {
      margin-bottom: 25px;
    }
    
    .modal-section:last-child {
      margin-bottom: 0;
    }
    
    .section-title {
      font-size: 16px;
      font-weight: 600;
      color: #374151;
      margin-bottom: 10px;
    }
    
    .section-description {
      font-size: 14px;
      color: #6b7280;
      margin-bottom: 15px;
    }
    
    .modal-btn {
      background: #3b82f6;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s;
      width: 100%;
      margin-bottom: 10px;
    }
    
    .modal-btn:hover {
      background: #2563eb;
    }
    
    .modal-btn.danger {
      background: #ef4444;
    }
    
    .modal-btn.danger:hover {
      background: #dc2626;
    }

    /* User management buttons - override modal-btn styles for inline layout */
    .user-action-btn {
      margin-bottom: 0 !important;
      width: 80px;
      font-size: 12px;
      padding: 5px 10px;
    }
    
    /* Mobile responsive */
    @media (max-width: 768px) {
      body {
        padding: 10px;
      }
      
      .container {
        padding: 20px;
      }
      
      h1 {
        font-size: 2rem;
      }
      
      .weight-input-group {
        flex-direction: column;
        align-items: center;
      }
      
      .weight-input {
        width: 100%;
        max-width: 200px;
      }
      
      .chart-container {
        height: 300px;
        padding: 15px;
      }
      
      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .how-to-use {
        padding: 20px;
        margin-top: 25px;
      }
      
      .how-to-use h3 {
        font-size: 18px;
        margin-bottom: 15px;
      }
      
      .usage-section {
        padding: 15px;
      }
      
      .usage-section h4 {
        font-size: 15px;
      }
      
      .features-grid {
        grid-template-columns: 1fr;
        gap: 12px;
      }
      
      .feature-item {
        padding: 12px;
      }
      
      .step {
        flex-direction: column;
        text-align: center;
        gap: 10px;
      }
      
      .step-number {
        align-self: center;
      }
    }
    
    /* Recommended section */
    .recommended {
      margin-top: 60px;
      padding: 20px 0;
      border-top: 1px solid #f1f5f9;
      text-align: center;
    }
    
    .recommended-title {
      font-size: 14px;
      color: #94a3b8;
      margin-bottom: 15px;
      font-weight: 400;
    }
    
    .recommended-links {
      display: flex;
      justify-content: center;
      gap: 30px;
      flex-wrap: wrap;
    }
    
    .recommended-link {
      color: #64748b;
      text-decoration: none;
      font-size: 13px;
      transition: color 0.2s ease;
      opacity: 0.8;
    }
    
    .recommended-link:hover {
      color: #475569;
      opacity: 1;
    }
    
    @media (max-width: 768px) {
      .recommended-links {
        flex-direction: column;
        gap: 15px;
      }
    }
  </style>
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VWGET35Z71"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VWGET35Z71');
</script>

<body>
  <div class="container">
    <h1 data-i18n="nav.todayWeight">⚖️ Weight Tracker</h1>
    <p class="tagline" data-i18n="nav.tagline">
      Track your body weight progress with simple daily input<br>
      Export progress images • Your data stays private in your browser
    </p>
    
    <!-- Quick Input -->
    <div class="quick-input">
      <h3 data-i18n="nav.todayWeight">Today's Weight <span id="currentUserName" style="font-weight: normal; color: #6b7280; cursor: pointer; transition: opacity 0.2s; font-size: 0.8em; font-style: italic;" onclick="openUserManagement()" onmouseover="this.style.opacity='0.7'" onmouseout="this.style.opacity='1'">(Default User)</span></h3>
      <div class="weight-input-group">
        <input type="number" 
               id="weightInput" 
               class="weight-input" 
               placeholder="0.0" 
               step="0.1" 
               min="0" 
               max="1000">
        
        <div class="unit-selector">
          <button class="unit-btn active" data-unit="kg">kg</button>
          <button class="unit-btn" data-unit="lbs">lbs</button>
        </div>
        
        <button class="add-btn" onclick="addWeight()" data-i18n="nav.addEntry">Add Entry</button>
      </div>
    </div>
    
    <!-- Stats -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value" id="currentWeight">--</div>
        <div class="stat-label" data-i18n="stats.currentWeight">Current Weight</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="startWeight">--</div>
        <div class="stat-label" data-i18n="stats.startingWeight">Starting Weight</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="totalChange">--</div>
        <div class="stat-label" data-i18n="stats.totalChange">Total Change</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="totalEntries">0</div>
        <div class="stat-label" data-i18n="stats.totalEntries">Total Entries</div>
      </div>
    </div>
    
    <!-- Chart -->
    <div class="chart-container">
      <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">Loading Chart...</div>
      </div>
      <div id="chartEmptyState" class="empty-state" style="display: none;">
        <div class="empty-state-icon">📈</div>
        <p><strong>Your weight chart will appear here</strong></p>
        <p style="margin-top: 10px; font-size: 14px; opacity: 0.8;">Add your first weight entry above to start tracking your progress!</p>
      </div>
      <canvas id="weightChart" style="display: none;"></canvas>
    </div>
    
    <!-- Recent Entries -->
    <div class="recent-entries">
      <h3 data-i18n="nav.recentEntries">Recent Entries</h3>
      <div id="entriesList">
        <div class="empty-state">
          <div class="empty-state-icon">📊</div>
          <p>No weight entries yet. Add your first weight above!</p>
        </div>
      </div>
    </div>

    <!-- How to Use Section -->
    <div class="how-to-use">
      <h3>📖 How to Use Weight Tracker</h3>
      <div class="usage-content">
        <div class="usage-section">
          <h4>🎯 Purpose</h4>
          <p>This Weight Tracker helps you monitor your body weight progress over time with visual charts and goal setting. Track your daily weight changes, set target goals, and visualize your health journey with easy-to-understand charts.</p>
        </div>

        <div class="usage-section">
          <h4>⚡ Quick Start</h4>
          <div class="usage-steps">
            <div class="step">
              <span class="step-number">1</span>
              <div class="step-content">
                <strong>Enter Today's Weight</strong>
                <p>Use the input field above to enter your current weight. Choose between kg or lbs units.</p>
              </div>
            </div>
            <div class="step">
              <span class="step-number">2</span>
              <div class="step-content">
                <strong>View Your Progress</strong>
                <p>Watch your weight chart update automatically as you add more entries over time.</p>
              </div>
            </div>
            <div class="step">
              <span class="step-number">3</span>
              <div class="step-content">
                <strong>Set Target Goals</strong>
                <p>Use the settings (⚙️) to set a target weight that appears as a reference line on your chart.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="usage-section">
          <h4>📊 Features</h4>
          <div class="features-grid">
            <div class="feature-item">
              <span class="feature-icon">📈</span>
              <div>
                <strong>Visual Charts</strong>
                <p>Interactive charts show your weight trends over time</p>
              </div>
            </div>
            <div class="feature-item">
              <span class="feature-icon">🎯</span>
              <div>
                <strong>Target Goals</strong>
                <p>Set target weights with reference lines to track progress</p>
              </div>
            </div>
            <div class="feature-item">
              <span class="feature-icon">📱</span>
              <div>
                <strong>Mobile Friendly</strong>
                <p>Perfect for daily logging on any device</p>
              </div>
            </div>
            <div class="feature-item">
              <span class="feature-icon">🔒</span>
              <div>
                <strong>Privacy First</strong>
                <p>All data stays in your browser - nothing uploaded</p>
              </div>
            </div>
            <div class="feature-item">
              <span class="feature-icon">📤</span>
              <div>
                <strong>Data & Image Export</strong>
                <p>Export weight history as CSV files or progress images</p>
              </div>
            </div>
            <div class="feature-item">
              <span class="feature-icon">⚖️</span>
              <div>
                <strong>Multiple Units</strong>
                <p>Support for both kilograms and pounds</p>
              </div>
            </div>
            <div class="feature-item">
              <span class="feature-icon">👥</span>
              <div>
                <strong>Multi-User Support</strong>
                <p>Create up to 5 user profiles for family weight tracking</p>
              </div>
            </div>
          </div>
        </div>

        <div class="usage-section">
          <h4>💡 Tips for Success</h4>
          <ul class="tips-list">
            <li><strong>Consistency is key:</strong> Try to weigh yourself at the same time each day (preferably morning after waking up)</li>
            <li><strong>Track trends, not daily changes:</strong> Focus on weekly or monthly patterns rather than daily fluctuations</li>
            <li><strong>Set realistic goals:</strong> Use the target weight feature to set achievable milestones</li>
            <li><strong>Export your data:</strong> Regularly backup your progress by exporting CSV files</li>
            <li><strong>Be patient:</strong> Weight changes take time - trust the process and stay consistent</li>
          </ul>
        </div>

        <div class="usage-section">
          <h4>🔧 Settings & Data Management</h4>
          <p>Click the settings button (⚙️) in the bottom right to access advanced features:</p>
          <ul class="settings-list">
            <li><strong>Set Target Weight:</strong> Define your goal weight to see reference lines on charts</li>
            <li><strong>Export Data:</strong> Download your complete weight history as a CSV file</li>
            <li><strong>Export Image:</strong> Create progress report images perfect for sharing</li>
            <li><strong>Clear Data:</strong> Remove all entries to start fresh (use with caution)</li>
          </ul>
          <p>Click the user management button (👤) in the bottom right to manage multiple users:</p>
          <ul class="settings-list">
            <li><strong>Switch Users:</strong> Easily switch between up to 5 different user profiles</li>
            <li><strong>Add Users:</strong> Create new profiles for family members or different tracking periods</li>
            <li><strong>Delete Users:</strong> Remove unused profiles and their associated data</li>
            <li><strong>Isolated Data:</strong> Each user has completely separate weight records and settings</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- User Management Button -->
  <button class="user-btn" onclick="openUserManagement()" title="User Management">
    👤
  </button>

  <!-- Settings Button -->
  <button class="settings-btn" onclick="openSettings()" title="Settings">
    ⚙️
  </button>

  <!-- User Management Modal -->
  <div id="userManagementModal" class="modal" onclick="closeUserManagement()">
    <div class="modal-content" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2 class="modal-title" data-i18n="nav.userManagement">User Management</h2>
        <button class="close-btn" onclick="closeUserManagement()">&times;</button>
      </div>
      
      <div class="modal-section">
        <!-- User management content will be added here -->
        <p>User management features will be implemented here.</p>
      </div>
    </div>
  </div>

  <!-- Settings Modal -->
  <div id="settingsModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" data-i18n="nav.settings">Settings</h2>
        <button class="close-btn" onclick="closeSettings()">&times;</button>
      </div>
      
      <div class="modal-section">
        <div class="section-title" data-i18n="settings.exportCsv">Export Data</div>
        <div class="section-description" data-i18n="settings.exportCsvDesc">Download your weight data as a CSV file.</div>
        <button class="modal-btn" onclick="exportData()">📥 Export CSV</button>
      </div>
      
      <div class="modal-section">
        <div class="section-title" data-i18n="settings.exportImage">Export Image</div>
        <div class="section-description" data-i18n="settings.exportImageDesc">Download your weight chart as an image.</div>
        <button class="modal-btn" onclick="exportImage()">📸 Export Image</button>
      </div>
      
      <div class="modal-section">
        <div class="section-title" data-i18n="settings.targetWeight">Target Weight</div>
        <div class="section-description" data-i18n="settings.targetWeightDesc">Set your target weight to display a reference line on the chart.</div>
        <div style="display: flex; gap: 10px; margin-bottom: 10px;">
          <input type="number" 
                 id="targetWeight" 
                 data-i18n="[placeholder]settings.enterTargetWeight"
                 placeholder="Enter target weight" 
                 step="0.1" 
                 min="0" 
                 max="1000"
                 style="flex: 1; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;">
          <span id="targetUnit" style="padding: 10px; background: #f3f4f6; border-radius: 6px; font-size: 14px; color: #374151;">kg</span>
        </div>
        <button class="modal-btn" onclick="setTargetWeight()" data-i18n="settings.setTarget">🎯 Set Target</button>
        <button class="modal-btn" onclick="clearTargetWeight()" style="background: #6b7280;" data-i18n="settings.clearTarget">❌ Clear Target</button>
      </div>
      
      <div class="modal-section">
        <div class="section-title" data-i18n="settings.language">Language</div>
        <div class="section-description" data-i18n="settings.languageDesc">Choose your preferred language for the interface.</div>
        <select id="languageSelect" onchange="changeLanguage(this.value)" style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white;">
          <!-- Language options will be populated by JavaScript -->
        </select>
      </div>
      
      <div class="modal-section">
        <div class="section-title" data-i18n="settings.clearAllData">Clear Data</div>
        <div class="section-description" data-i18n="settings.clearDataDesc">Permanently delete all your weight entries. This action cannot be undone.</div>
        <button class="modal-btn danger" onclick="clearAllData()">🗑️ Clear All Data</button>
      </div>
    </div>
  </div>
  
  <!-- Recommended section -->
  <div class="recommended">
    <div class="recommended-title">Other Tools</div>
    <div class="recommended-links">
      <a href="https://www.itwork.club/fe-intv/" target="_blank" class="recommended-link">💻 Frontend Interview Questions</a>
      <a href="https://www.itwork.club/tracker/" target="_blank" class="recommended-link">📚 Reading Tracker</a>
      <a href="https://www.itwork.club/note/" target="_blank" class="recommended-link">📝 Temporary Notes</a>
    </div>
  </div>

  <script>
    let weightEntries = [];
    let currentUnit = 'kg';
    let chart = null;
    let targetWeight = null;
    
    // User Management Variables
    let users = [];
    let activeUserId = null;

    // Language options configuration (universal across all languages)
    const languageOptions = {
      en: { flag: '🇺🇸', name: 'English' },
      zh: { flag: '🇨🇳', name: '中文' },
      ja: { flag: '🇯🇵', name: '日本語' },
      ko: { flag: '🇰🇷', name: '한국어' },
      de: { flag: '🇩🇪', name: 'Deutsch' },
      fr: { flag: '🇫🇷', name: 'Français' },
      es: { flag: '🇪🇸', name: 'Español' },
      pt: { flag: '🇵🇹', name: 'Português' },
      ar: { flag: '🇸🇦', name: 'العربية' },
      tr: { flag: '🇹🇷', name: 'Türkçe' }
    };

    // i18n Initialization
    window.initI18n = function() {
      // Get saved language from localStorage, fallback to browser detection
      const savedLanguage = localStorage.getItem('weightTrackerLanguage');
      
      i18next
        .use(i18nextBrowserLanguageDetector)
        .init({
          lng: savedLanguage || 'en', // Use saved language if available
          fallbackLng: 'en',
          resources: {
            en: {
              translation: {
                nav: {
                  todayWeight: "Today's Weight",
                  addEntry: "Add Entry",
                  userManagement: "User Management",
                  settings: "Settings",
                  recentEntries: "Recent Entries",
                  tagline: "Track your body weight progress with simple daily input<br>Export progress images • Your data stays private in your browser"
                },
                stats: {
                  currentWeight: "Current Weight",
                  startingWeight: "Starting Weight", 
                  totalChange: "Total Change",
                  totalEntries: "Total Entries"
                },
                user: {
                  defaultUser: "Default User",
                  active: "(Active)",
                  activate: "Activate",
                  delete: "Delete",
                  addNewUser: "Add New User",
                  enterUsername: "Enter username",
                  add: "Add",
                  maxUsers: "Maximum of 5 users allowed. Please delete an existing user before adding a new one.",
                  confirmDelete: "Are you sure you want to delete user \"{{name}}\" and all their weight records? This action cannot be undone.",
                  defaultCannotDelete: "Default user cannot be deleted",
                  userList: "User List"
                },
                settings: {
                  exportCsv: "Export Data",
                  exportCsvDesc: "Download your weight data as a CSV file.",
                  exportImage: "Export Image",
                  exportImageDesc: "Download your weight chart as an image.",
                  targetWeight: "Target Weight",
                  targetWeightDesc: "Set your target weight to display a reference line on the chart.",
                  enterTargetWeight: "Enter target weight",
                  setTarget: "Set Target",
                  clearTarget: "Clear Target",
                  language: "Language",
                  languageDesc: "Choose your preferred language for the interface.",
                  clearAllData: "Clear All Data",
                  clearDataDesc: "Permanently delete all your weight entries. This action cannot be undone.",
                  confirmClear: "Are you sure you want to clear all weight data for the current user? This action cannot be undone.",
                  confirmClearTarget: "Are you sure you want to clear your target weight?"
                },
                messages: {
                  enterValidWeight: "Please enter a valid weight!",
                  dataExported: "Data exported successfully!",
                  targetSet: "Target weight set successfully!",
                  targetCleared: "Target weight cleared!",
                  dataCleared: "All data for the current user has been cleared.",
                  noData: "No data to export!",
                  updateEntry: "You already have an entry for today. Do you want to update it?",
                  enterValidUsername: "Please enter a username",
                  usernameExists: "Username already exists, please choose a different name",
                  enterValidTargetWeight: "Please enter a valid target weight!"
                }
              }
            },
            zh: {
              translation: {
                nav: {
                  todayWeight: "今日体重",
                  addEntry: "添加记录",
                  userManagement: "用户管理",
                  settings: "设置",
                  recentEntries: "最近记录",
                  tagline: "通过简单的每日输入跟踪您的体重进展<br>导出进展图片 • 您的数据保存在浏览器中"
                },
                stats: {
                  currentWeight: "当前体重",
                  startingWeight: "起始体重",
                  totalChange: "总变化", 
                  totalEntries: "总条目"
                },
                user: {
                  defaultUser: "默认用户",
                  active: "(激活)",
                  activate: "激活",
                  delete: "删除",
                  addNewUser: "添加新用户",
                  enterUsername: "输入用户名",
                  add: "添加",
                  maxUsers: "最多允许5个用户。请删除现有用户后再添加新用户。",
                  confirmDelete: "确定要删除用户\"{{name}}\"及其所有体重记录吗？此操作不可撤销。",
                  defaultCannotDelete: "默认用户不能被删除",
                  userList: "用户列表"
                },
                settings: {
                  exportCsv: "导出数据",
                  exportCsvDesc: "将您的体重数据下载为CSV文件。",
                  exportImage: "导出图片",
                  exportImageDesc: "将您的体重图表下载为图片。",
                  targetWeight: "目标体重",
                  targetWeightDesc: "设置您的目标体重以在图表上显示参考线。",
                  enterTargetWeight: "输入目标体重",
                  setTarget: "设置目标",
                  clearTarget: "清除目标",
                  language: "语言",
                  languageDesc: "选择您偏好的界面语言。",
                  clearAllData: "清除所有数据",
                  clearDataDesc: "永久删除您的所有体重记录。此操作无法撤销。",
                  confirmClear: "确定要清除当前用户的所有体重数据吗？此操作不可撤销。",
                  confirmClearTarget: "确定要清除您的目标体重吗？"
                },
                messages: {
                  enterValidWeight: "请输入有效的体重！",
                  dataExported: "数据导出成功！",
                  targetSet: "目标体重设置成功！",
                  targetCleared: "目标体重已清除！",
                  dataCleared: "当前用户的所有数据已被清除。",
                  noData: "没有数据可导出！",
                  updateEntry: "您今天已有记录。是否要更新它？",
                  enterValidUsername: "请输入用户名",
                  usernameExists: "用户名已存在，请选择其他名称",
                  enterValidTargetWeight: "请输入有效的目标体重！"
                }
              }
            },
            ja: {
              translation: {
                nav: {
                  todayWeight: "今日の体重",
                  addEntry: "記録を追加",
                  userManagement: "ユーザー管理",
                  settings: "設定",
                  recentEntries: "最近の記録",
                  tagline: "シンプルな毎日の入力で体重の進捗を追跡<br>進捗画像をエクスポート • データはブラウザに保存されます"
                },
                stats: {
                  currentWeight: "現在の体重",
                  startingWeight: "開始体重",
                  totalChange: "総変化",
                  totalEntries: "総エントリー"
                },
                user: {
                  defaultUser: "デフォルトユーザー",
                  active: "(アクティブ)",
                  activate: "アクティブ化",
                  delete: "削除",
                  addNewUser: "新規ユーザーを追加",
                  enterUsername: "ユーザー名を入力",
                  add: "追加",
                  maxUsers: "ユーザーは最大5人まで許可されます。新しいユーザーを追加する前に既存のユーザーを削除してください。",
                  confirmDelete: "ユーザー「{{name}}」とその体重記録をすべて削除してもよろしいですか？この操作は元に戻せません。",
                  defaultCannotDelete: "デフォルトユーザーは削除できません",
                  userList: "ユーザーリスト"
                },
                settings: {
                  exportCsv: "データをエクスポート",
                  exportCsvDesc: "体重データをCSVファイルとしてダウンロードします。",
                  exportImage: "画像をエクスポート",
                  exportImageDesc: "体重チャートを画像としてダウンロードします。",
                  targetWeight: "目標体重",
                  targetWeightDesc: "チャートに基準線を表示するために目標体重を設定します。",
                  enterTargetWeight: "目標体重を入力",
                  setTarget: "目標を設定",
                  clearTarget: "目標をクリア",
                  language: "言語",
                  languageDesc: "インターフェースに適した言語を選択してください。",
                  clearAllData: "すべてのデータをクリア",
                  clearDataDesc: "すべての体重エントリを永久に削除します。この操作は元に戻せません。",
                  confirmClear: "現在のユーザーのすべての体重データをクリアしてもよろしいですか？この操作は元に戻せません。",
                  confirmClearTarget: "目標体重をクリアしてもよろしいですか？"
                },
                messages: {
                  enterValidWeight: "有効な体重を入力してください！",
                  dataExported: "データのエクスポートが成功しました！",
                  targetSet: "目標体重が正常に設定されました！",
                  targetCleared: "目標体重がクリアされました！",
                  dataCleared: "現在のユーザーのすべてのデータがクリアされました。",
                  noData: "エクスポートするデータがありません！",
                  updateEntry: "今日のエントリが既にあります。更新しますか？",
                  enterValidUsername: "ユーザー名を入力してください",
                  usernameExists: "ユーザー名が既に存在します。別の名前を選択してください",
                  enterValidTargetWeight: "有効な目標体重を入力してください！"
                }
              }
            },
            ko: {
              translation: {
                nav: {
                  todayWeight: "오늘의 체중",
                  addEntry: "기록 추가",
                  userManagement: "사용자 관리",
                  settings: "설정",
                  recentEntries: "최근 기록",
                  tagline: "간단한 매일 입력으로 체중 진행 상황을 추적<br>진행 이미지 내보내기 • 데이터는 브라우저에 저장됩니다"
                },
                stats: {
                  currentWeight: "현재 체중",
                  startingWeight: "시작 체중",
                  totalChange: "총 변화",
                  totalEntries: "총 항목"
                },
                user: {
                  defaultUser: "기본 사용자",
                  active: "(활성)",
                  activate: "활성화",
                  delete: "삭제",
                  addNewUser: "새 사용자 추가",
                  enterUsername: "사용자 이름 입력",
                  add: "추가",
                  maxUsers: "사용자는 최대 5명까지 허용됩니다. 새 사용자를 추가하기 전에 기존 사용자를 삭제하십시오.",
                  confirmDelete: "사용자「{{name}}」와 모든 체중 기록을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.",
                  defaultCannotDelete: "기본 사용자는 삭제할 수 없습니다",
                  userList: "사용자 목록"
                },
                settings: {
                  exportCsv: "데이터 내보내기",
                  exportCsvDesc: "체중 데이터를 CSV 파일로 다운로드합니다.",
                  exportImage: "이미지 내보내기",
                  exportImageDesc: "체중 차트를 이미지로 다운로드합니다.",
                  targetWeight: "목표 체중",
                  targetWeightDesc: "차트에 기준선을 표시하기 위해 목표 체중을 설정합니다.",
                  enterTargetWeight: "목표 체중 입력",
                  setTarget: "목표 설정",
                  clearTarget: "목표 지우기",
                  language: "언어",
                  languageDesc: "인터페이스에 선호하는 언어를 선택하세요.",
                  clearAllData: "모든 데이터 지우기",
                  clearDataDesc: "모든 체중 항목을 영구적으로 삭제합니다. 이 작업은 되돌릴 수 없습니다.",
                  confirmClear: "현재 사용자의 모든 체중 데이터를 지우시겠습니까? 이 작업은 되돌릴 수 없습니다.",
                  confirmClearTarget: "목표 체중을 지우시겠습니까?"
                },
                messages: {
                  enterValidWeight: "유효한 체중을 입력하세요!",
                  dataExported: "데이터 내보내기가 성공했습니다!",
                  targetSet: "목표 체중이 성공적으로 설정되었습니다!",
                  targetCleared: "목표 체중이 지워졌습니다!",
                  dataCleared: "현재 사용자의 모든 데이터가 지워졌습니다.",
                  noData: "내보낼 데이터가 없습니다!",
                  updateEntry: "오늘 항목이 이미 있습니다. 업데이트하시겠습니까?",
                  enterValidUsername: "사용자 이름을 입력하세요",
                  usernameExists: "사용자 이름이 이미 존재합니다. 다른 이름을 선택하세요",
                  enterValidTargetWeight: "유효한 목표 체중을 입력하세요!"
                }
              }
            },
            de: {
              translation: {
                nav: {
                  todayWeight: "Heutiges Gewicht",
                  addEntry: "Eintrag hinzufügen",
                  userManagement: "Benutzerverwaltung",
                  settings: "Einstellungen",
                  recentEntries: "Kürzliche Einträge",
                  tagline: "Verfolgen Sie Ihren Gewichtsfortschritt mit einfacher täglicher Eingabe<br>Gewichtsexport • Ihre Daten bleiben in Ihrem Browser gespeichert"
                },
                stats: {
                  currentWeight: "Aktuelles Gewicht",
                  startingWeight: "Startgewicht",
                  totalChange: "Gesamtänderung",
                  totalEntries: "Gesamteinträge"
                },
                user: {
                  defaultUser: "Standardbenutzer",
                  active: "(Aktiv)",
                  activate: "Aktivieren",
                  delete: "Löschen",
                  addNewUser: "Neuen Benutzer hinzufügen",
                  enterUsername: "Benutzernamen eingeben",
                  add: "Hinzufügen",
                  maxUsers: "Maximal 5 Benutzer erlaubt. Bitte löschen Sie einen vorhandenen Benutzer, bevor Sie einen neuen hinzufügen.",
                  confirmDelete: "Sind Sie sicher, dass Sie den Benutzer „{{name}}“ und alle seine Gewichtseinträge löschen möchten? Diese Aktion kann nicht rückgängig gemacht werden.",
                  defaultCannotDelete: "Standardbenutzer kann nicht gelöscht werden",
                  userList: "Benutzerliste"
                },
                settings: {
                  exportCsv: "Daten exportieren",
                  exportCsvDesc: "Laden Sie Ihre Gewichtsdaten als CSV-Datei herunter.",
                  exportImage: "Bild exportieren",
                  exportImageDesc: "Laden Sie Ihr Gewichtsdiagramm als Bild herunter.",
                  targetWeight: "Zielgewicht",
                  targetWeightDesc: "Stellen Sie Ihr Zielgewicht ein, um eine Referenzlinie im Diagramm anzuzeigen.",
                  enterTargetWeight: "Zielgewicht eingeben",
                  setTarget: "Ziel setzen",
                  clearTarget: "Ziel löschen",
                  language: "Sprache",
                  languageDesc: "Wählen Sie Ihre bevorzugte Sprache für die Benutzeroberfläche.",
                  clearAllData: "Alle Daten löschen",
                  clearDataDesc: "Löschen Sie alle Ihre Gewichtseinträge dauerhaft. Diese Aktion kann nicht rückgängig gemacht werden.",
                  confirmClear: "Sind Sie sicher, dass Sie alle Gewichtsdaten für den aktuellen Benutzer löschen möchten? Diese Aktion kann nicht rückgängig gemacht werden.",
                  confirmClearTarget: "Sind Sie sicher, dass Sie Ihr Zielgewicht löschen möchten?"
                },
                messages: {
                  enterValidWeight: "Bitte geben Sie ein gültiges Gewicht ein!",
                  dataExported: "Daten erfolgreich exportiert!",
                  targetSet: "Zielgewicht erfolgreich gesetzt!",
                  targetCleared: "Zielgewicht gelöscht!",
                  dataCleared: "Alle Daten für den aktuellen Benutzer wurden gelöscht.",
                  noData: "Keine Daten zum Exportieren!",
                  updateEntry: "Sie haben bereits einen Eintrag für heute. Möchten Sie ihn aktualisieren?",
                  enterValidUsername: "Bitte geben Sie einen Benutzernamen ein",
                  usernameExists: "Benutzername existiert bereits, bitte wählen Sie einen anderen Namen",
                  enterValidTargetWeight: "Bitte geben Sie ein gültiges Zielgewicht ein!"
                }
              }
            },
            fr: {
              translation: {
                nav: {
                  todayWeight: "Poids d'aujourd'hui",
                  addEntry: "Ajouter une entrée",
                  userManagement: "Gestion des utilisateurs",
                  settings: "Paramètres",
                  recentEntries: "Entrées récentes",
                  tagline: "Suivez vos progrès de poids avec une saisie quotidienne simple<br>Export des progrès • Vos données restent dans votre navigateur"
                },
                stats: {
                  currentWeight: "Poids actuel",
                  startingWeight: "Poids de départ",
                  totalChange: "Changement total",
                  totalEntries: "Total des entrées"
                },
                user: {
                  defaultUser: "Utilisateur par défaut",
                  active: "(Actif)",
                  activate: "Activer",
                  delete: "Supprimer",
                  addNewUser: "Ajouter un nouvel utilisateur",
                  enterUsername: "Entrez le nom d'utilisateur",
                  add: "Ajouter",
                  maxUsers: "Maximum 5 utilisateurs autorisés. Veuillez supprimer un utilisateur existant avant d'en ajouter un nouveau.",
                  confirmDelete: "Êtes-vous sûr de vouloir supprimer l'utilisateur „{{name}}“ et tous ses enregistrements de poids ? Cette action ne peut pas être annulée.",
                  defaultCannotDelete: "L'utilisateur par défaut ne peut pas être supprimé",
                  userList: "Liste des utilisateurs"
                },
                settings: {
                  exportCsv: "Exporter les données",
                  exportCsvDesc: "Téléchargez vos données de poids au format CSV.",
                  exportImage: "Exporter l'image",
                  exportImageDesc: "Téléchargez votre graphique de poids en tant qu'image.",
                  targetWeight: "Poids cible",
                  targetWeightDesc: "Définissez votre poids cible pour afficher une ligne de référence sur le graphique.",
                  enterTargetWeight: "Entrez le poids cible",
                  setTarget: "Définir l'objectif",
                  clearTarget: "Effacer l'objectif",
                  language: "Langue",
                  languageDesc: "Choisissez votre langue préférée pour l'interface.",
                  clearAllData: "Effacer toutes les données",
                  clearDataDesc: "Supprimez définitivement toutes vos entrées de poids. Cette action ne peut pas être annulée.",
                  confirmClear: "Êtes-vous sûr de vouloir effacer toutes les données de poids pour l'utilisateur actuel ? Cette action ne peut pas être annulée.",
                  confirmClearTarget: "Êtes-vous sûr de vouloir effacer votre poids cible ?"
                },
                messages: {
                  enterValidWeight: "Veuillez saisir un poids valide !",
                  dataExported: "Données exportées avec succès !",
                  targetSet: "Poids cible défini avec succès !",
                  targetCleared: "Poids cible effacé !",
                  dataCleared: "Toutes les données de l'utilisateur actuel ont été effacées.",
                  noData: "Aucune donnée à exporter !",
                  updateEntry: "Vous avez déjà une entrée pour aujourd'hui. Voulez-vous la mettre à jour ?",
                  enterValidUsername: "Veuillez saisir un nom d'utilisateur",
                  usernameExists: "Le nom d'utilisateur existe déjà, veuillez en choisir un autre",
                  enterValidTargetWeight: "Veuillez saisir un poids cible valide !"
                }
              }
            },
            es: {
              translation: {
                nav: {
                  todayWeight: "Peso de hoy",
                  addEntry: "Agregar entrada",
                  userManagement: "Gestión de usuarios",
                  settings: "Configuración",
                  recentEntries: "Entradas recientes",
                  tagline: "Siga su progreso de peso con entrada diaria simple<br>Exportar progreso • Sus datos permanecen en su navegador"
                },
                stats: {
                  currentWeight: "Peso actual",
                  startingWeight: "Peso inicial",
                  totalChange: "Cambio total",
                  totalEntries: "Total de entradas"
                },
                user: {
                  defaultUser: "Usuario predeterminado",
                  active: "(Activo)",
                  activate: "Activar",
                  delete: "Eliminar",
                  addNewUser: "Agregar nuevo usuario",
                  enterUsername: "Ingrese nombre de usuario",
                  add: "Agregar",
                  maxUsers: "Máximo 5 usuarios permitidos. Elimine un usuario existente antes de agregar uno nuevo.",
                  confirmDelete: "¿Está seguro de que desea eliminar al usuario „{{name}}“ y todos sus registros de peso? Esta acción no se puede deshacer.",
                  defaultCannotDelete: "El usuario predeterminado no se puede eliminar",
                  userList: "Lista de usuarios"
                },
                settings: {
                  exportCsv: "Exportar datos",
                  exportCsvDesc: "Descargue sus datos de peso como archivo CSV.",
                  exportImage: "Exportar imagen",
                  exportImageDesc: "Descargue su gráfico de peso como imagen.",
                  targetWeight: "Peso objetivo",
                  targetWeightDesc: "Establezca su peso objetivo para mostrar una línea de referencia en el gráfico.",
                  enterTargetWeight: "Ingrese peso objetivo",
                  setTarget: "Establecer objetivo",
                  clearTarget: "Limpiar objetivo",
                  language: "Idioma",
                  languageDesc: "Elija su idioma preferido para la interfaz.",
                  clearAllData: "Limpiar todos los datos",
                  clearDataDesc: "Elimine permanentemente todas sus entradas de peso. Esta acción no se puede deshacer.",
                  confirmClear: "¿Está seguro de que desea limpiar todos los datos de peso para el usuario actual? Esta acción no se puede deshacer.",
                  confirmClearTarget: "¿Está seguro de que desea limpiar su peso objetivo?"
                },
                messages: {
                  enterValidWeight: "¡Por favor ingrese un peso válido!",
                  dataExported: "¡Datos exportados exitosamente!",
                  targetSet: "¡Peso objetivo establecido exitosamente!",
                  targetCleared: "¡Peso objetivo limpiado!",
                  dataCleared: "Todos los datos del usuario actual han sido limpiados.",
                  noData: "¡No hay datos para exportar!",
                  updateEntry: "Ya tiene una entrada para hoy. ¿Desea actualizarla?",
                  enterValidUsername: "Por favor ingrese un nombre de usuario",
                  usernameExists: "El nombre de usuario ya existe, por favor elija otro nombre",
                }
              }
            },
            pt: {
              translation: {
                nav: {
                  todayWeight: "Peso de hoje",
                  addEntry: "Adicionar entrada",
                  userManagement: "Gestão de usuários",
                  settings: "Configurações",
                  recentEntries: "Entradas recentes",
                  tagline: "Acompanhe seu progresso de peso com entrada diária simples<br>Exportar progresso • Seus dados permanecem no seu navegador"
                },
                stats: {
                  currentWeight: "Peso atual",
                  startingWeight: "Peso inicial",
                  totalChange: "Mudança total",
                  totalEntries: "Total de entradas"
                },
                user: {
                  defaultUser: "Usuário padrão",
                  active: "(Ativo)",
                  activate: "Ativar",
                  delete: "Excluir",
                  addNewUser: "Adicionar novo usuário",
                  enterUsername: "Digite o nome do usuário",
                  add: "Adicionar",
                  maxUsers: "Máximo de 5 usuários permitidos. Exclua um usuário existente antes de adicionar um novo.",
                  confirmDelete: "Tem certeza de que deseja excluir o usuário „{{name}}“ e todos os seus registros de peso? Esta ação não pode ser desfeita.",
                  defaultCannotDelete: "O usuário padrão não pode ser excluído",
                  userList: "Lista de usuários"
                },
                settings: {
                  exportCsv: "Exportar dados",
                  exportCsvDesc: "Baixe seus dados de peso como arquivo CSV.",
                  exportImage: "Exportar imagem",
                  exportImageDesc: "Baixe seu gráfico de peso como imagem.",
                  targetWeight: "Peso alvo",
                  targetWeightDesc: "Defina seu peso alvo para mostrar uma linha de referência no gráfico.",
                  enterTargetWeight: "Digite o peso alvo",
                  setTarget: "Definir alvo",
                  clearTarget: "Limpar alvo",
                  language: "Idioma",
                  languageDesc: "Escolha seu idioma preferido para a interface.",
                  clearAllData: "Limpar todos os dados",
                  clearDataDesc: "Exclua permanentemente todas as suas entradas de peso. Esta ação não pode ser desfeita.",
                  confirmClear: "Tem certeza de que deseja limpar todos os dados de peso para o usuário atual? Esta ação não pode ser desfeita.",
                  confirmClearTarget: "Tem certeza de que deseja limpar seu peso alvo?"
                },
                messages: {
                  enterValidWeight: "Por favor, digite um peso válido!",
                  dataExported: "Dados exportados com sucesso!",
                  targetSet: "Peso alvo definido com sucesso!",
                  targetCleared: "Peso alvo limpo!",
                  dataCleared: "Todos os dados do usuário atual foram limpos.",
                  noData: "Não há dados para exportar!",
                  updateEntry: "Você já tem uma entrada para hoje. Deseja atualizá-la?",
                  enterValidUsername: "Por favor, digite um nome de usuário",
                  usernameExists: "Nome de usuário já existe, por favor escolha outro nome",
                  enterValidTargetWeight: "Por favor, digite um peso alvo válido!"
                }
              }
            },
            ar: {
              translation: {
                nav: {
                  todayWeight: "وزن اليوم",
                  addEntry: "إضافة إدخال",
                  userManagement: "إدارة المستخدمين",
                  settings: "الإعدادات",
                  recentEntries: "الإدخالات الأخيرة",
                  tagline: "تتبع تقدم وزنك بإدخال يومي بسيط<br>تصدير التقدم • بياناتك تبقى في متصفحك"
                },
                stats: {
                  currentWeight: "الوزن الحالي",
                  startingWeight: "الوزن الأولي",
                  totalChange: "التغيير الإجمالي",
                  totalEntries: "إجمالي الإدخالات"
                },
                user: {
                  defaultUser: "المستخدم الافتراضي",
                  active: "(نشط)",
                  activate: "تفعيل",
                  delete: "حذف",
                  addNewUser: "إضافة مستخدم جديد",
                  enterUsername: "أدخل اسم المستخدم",
                  add: "إضافة",
                  maxUsers: "الحد الأقصى 5 مستخدمين مسموح. يرجى حذف مستخدم موجود قبل إضافة مستخدم جديد.",
                  confirmDelete: "هل أنت متأكد من أنك تريد حذف المستخدم „{{name}}“ وجميع سجلات وزنه؟ لا يمكن التراجع عن هذا الإجراء.",
                  defaultCannotDelete: "لا يمكن حذف المستخدم الافتراضي",
                  userList: "قائمة المستخدمين"
                },
                settings: {
                  exportCsv: "تصدير البيانات",
                  exportCsvDesc: "قم بتنزيل بيانات وزنك كملف CSV.",
                  exportImage: "تصدير الصورة",
                  exportImageDesc: "قم بتنزيل رسم بياني وزنك كصورة.",
                  targetWeight: "الوزن المستهدف",
                  targetWeightDesc: "حدد وزنك المستهدف لإظهار خط مرجعي في الرسم البياني.",
                  enterTargetWeight: "أدخل الوزن المستهدف",
                  setTarget: "تحديد الهدف",
                  clearTarget: "مسح الهدف",
                  language: "اللغة",
                  languageDesc: "اختر لغتك المفضلة للواجهة.",
                  clearAllData: "مسح جميع البيانات",
                  clearDataDesc: "احذف جميع إدخالات وزنك بشكل دائم. لا يمكن التراجع عن هذا الإجراء.",
                  confirmClear: "هل أنت متأكد من أنك تريد مسح جميع بيانات الوزن للمستخدم الحالي؟ لا يمكن التراجع عن هذا الإجراء.",
                  confirmClearTarget: "هل أنت متأكد من أنك تريد مسح وزنك المستهدف؟"
                },
                messages: {
                  enterValidWeight: "يرجى إدخال وزن صحيح!",
                  dataExported: "تم تصدير البيانات بنجاح!",
                  targetSet: "تم تحديد الوزن المستهدف بنجاح!",
                  targetCleared: "تم مسح الوزن المستهدف!",
                  dataCleared: "تم مسح جميع بيانات المستخدم الحالي.",
                  noData: "لا توجد بيانات للتصدير!",
                  updateEntry: "لديك إدخال بالفعل اليوم. هل تريد تحديثه؟",
                  enterValidUsername: "يرجى إدخال اسم مستخدم",
                  usernameExists: "اسم المستخدم موجود بالفعل، يرجى اختيار اسم آخر",
                  enterValidTargetWeight: "يرجى إدخال وزن مستهدف صحيح!"
                }
              }
            },
            tr: {
              translation: {
                nav: {
                  todayWeight: "Bugünkü kilo",
                  addEntry: "Giriş ekle",
                  userManagement: "Kullanıcı yönetimi",
                  settings: "Ayarlar",
                  recentEntries: "Son girişler",
                  tagline: "Basit günlük girişle kilo ilerlemenizi takip edin<br>İlerlemeyi dışa aktar • Verileriniz tarayıcınızda kalır"
                },
                stats: {
                  currentWeight: "Mevcut kilo",
                  startingWeight: "Başlangıç kilosu",
                  totalChange: "Toplam değişim",
                  totalEntries: "Toplam giriş"
                },
                user: {
                  defaultUser: "Varsayılan kullanıcı",
                  active: "(Aktif)",
                  activate: "Etkinleştir",
                  delete: "Sil",
                  addNewUser: "Yeni kullanıcı ekle",
                  enterUsername: "Kullanıcı adını girin",
                  add: "Ekle",
                  maxUsers: "Maksimum 5 kullanıcıya izin verilir. Yeni bir kullanıcı eklemeden önce mevcut bir kullanıcıyı silin.",
                  confirmDelete: "„{{name}}“ kullanıcısını ve tüm kilo kayıtlarını silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.",
                  defaultCannotDelete: "Varsayılan kullanıcı silinemez",
                  userList: "Kullanıcı listesi"
                },
                settings: {
                  exportCsv: "Verileri dışa aktar",
                  exportCsvDesc: "Kilo verilerinizi CSV dosyası olarak indirin.",
                  exportImage: "Resmi dışa aktar",
                  exportImageDesc: "Kilo grafiğinizi resim olarak indirin.",
                  targetWeight: "Hedef kilo",
                  targetWeightDesc: "Grafikte referans çizgisi göstermek için hedef kilonuzu ayarlayın.",
                  enterTargetWeight: "Hedef kiloyu girin",
                  setTarget: "Hedef ayarla",
                  clearTarget: "Hedefi temizle",
                  language: "Dil",
                  languageDesc: "Arayüz için tercih ettiğiniz dili seçin.",
                  clearAllData: "Tüm verileri temizle",
                  clearDataDesc: "Tüm kilo girişlerinizi kalıcı olarak silin. Bu işlem geri alınamaz.",
                  confirmClear: "Mevcut kullanıcı için tüm kilo verilerini temizlemek istediğinizden emin misiniz? Bu işlem geri alınamaz.",
                  confirmClearTarget: "Hedef kilonuzu temizlemek istediğinizden emin misiniz?"
                },
                messages: {
                  enterValidWeight: "Lütfen geçerli bir kilo girin!",
                  dataExported: "Veriler başarıyla dışa aktarıldı!",
                  targetSet: "Hedef kilo başarıyla ayarlandı!",
                  targetCleared: "Hedef kilo temizlendi!",
                  dataCleared: "Mevcut kullanıcının tüm verileri temizlendi.",
                  noData: "Dışa aktarılacak veri yok!",
                  updateEntry: "Bugün için zaten bir girişiniz var. Güncellemek istiyor musunuz?",
                  enterValidUsername: "Lütfen bir kullanıcı adı girin",
                  usernameExists: "Kullanıcı adı zaten mevcut, lütfen başka bir ad seçin",
                  enterValidTargetWeight: "Lütfen geçerli bir hedef kilo girin!"
                }
              }
            }
          },
          detection: {
            order: ['navigator'], // Only use navigator, we'll handle localStorage manually
            caches: [] // Don't cache automatically, we handle it manually
          }
        }, function(err, t) {
          if (err) console.error('i18next init error:', err);
          updatePageText();
        });
    };

    // Function to update all page text
    function updatePageText() {
      if (!window.i18nextLoaded) return;
      
      // Update elements with data-i18n attributes
      document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        const translation = i18next.t(key);
        
        // Special handling for elements that contain HTML
        if (key === 'nav.tagline') {
          element.innerHTML = translation;
        } else if (element.tagName === 'OPTION') {
          element.textContent = translation;
        } else {
          element.textContent = translation;
        }
      });
      
      // Update elements with data-i18n attributes for specific attributes
      document.querySelectorAll('[data-i18n]').forEach(element => {
        const dataI18n = element.getAttribute('data-i18n');
        if (dataI18n && dataI18n.startsWith('[placeholder]')) {
          const key = dataI18n.replace('[placeholder]', '');
          element.placeholder = i18next.t(key);
        }
      });
      
      // Update title
      document.title = i18next.t('nav.todayWeight') + ' - Track Your Body Weight Progress with Charts';
      
      // Update main heading
      const mainHeading = document.querySelector('h1');
      if (mainHeading) {
        mainHeading.textContent = '⚖️ ' + i18next.t('nav.todayWeight').replace("Today's Weight", "Weight Tracker");
      }
      
      // Update today's weight title
      const todayWeightTitle = document.querySelector('h3');
      if (todayWeightTitle && todayWeightTitle.textContent.includes("Today's Weight")) {
        const userSpan = todayWeightTitle.querySelector('#currentUserName');
        todayWeightTitle.innerHTML = i18next.t('nav.todayWeight') + (userSpan ? userSpan.outerHTML : '');
      }
      
      // Update buttons
      const addBtn = document.querySelector('.add-btn');
      if (addBtn) {
        addBtn.textContent = i18next.t('nav.addEntry');
      }
      
      // Update settings button title
      const settingsBtn = document.querySelector('.settings-btn');
      if (settingsBtn) {
        settingsBtn.title = i18next.t('nav.settings');
      }
      
      // Update user button title
      const userBtn = document.querySelector('.user-btn');
      if (userBtn) {
        userBtn.title = i18next.t('nav.userManagement');
      }
    }

    // Function to change language
    function changeLanguage(lng) {
      if (!window.i18nextLoaded) return;
      i18next.changeLanguage(lng, function(err, t) {
        if (err) console.error(err);
        // Save language preference to localStorage
        localStorage.setItem('weightTrackerLanguage', lng);
        updatePageText();
        // Re-render modals if open
        if (document.getElementById('settingsModal').style.display === 'flex') {
          // Re-render settings modal content if needed
        }
        if (document.getElementById('userManagementModal').style.display === 'flex') {
          renderUserManagement();
        }
      });
    }
    
    // Generate UUID function
    function generateUUID() {
      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
        const r = Math.random() * 16 | 0;
        const v = c == 'x' ? r : (r & 0x3 | 0x8);
        return v.toString(16);
      });
    }
    
    // Initialize default user if no users exist
    function initializeUsers() {
      const storedUsers = localStorage.getItem('weightTrackerUsers');
      if (storedUsers) {
        users = JSON.parse(storedUsers);
        const storedActiveUserId = localStorage.getItem('weightTrackerActiveUser');
        if (storedActiveUserId) {
          activeUserId = storedActiveUserId;
        } else if (users.length > 0) {
          activeUserId = users[0].id;
        }
      } else {
        // Create default user
        const defaultUser = {
          id: generateUUID(),
          name: 'Default User',
          storageKey: 'weightTracker'
        };
        users = [defaultUser];
        activeUserId = defaultUser.id;
        saveUsers();
      }
    }
    
    // Save users to localStorage
    function saveUsers() {
      localStorage.setItem('weightTrackerUsers', JSON.stringify(users));
      localStorage.setItem('weightTrackerActiveUser', activeUserId);
    }
    
    // Get active user
    function getActiveUser() {
      return users.find(user => user.id === activeUserId);
    }
    
    // Switch active user
    function switchUser(userId) {
      if (users.find(user => user.id === userId)) {
        activeUserId = userId;
        saveUsers();
        loadData();
        updateChart();
        updateCurrentUserDisplay();
        renderUserManagement();
      }
    }
    
    // Add new user
    function addUser(name) {
      if (!name.trim()) {
        alert(i18next.t('messages.enterValidUsername'));
        return;
      }
      
      if (users.some(user => user.name === name.trim())) {
        alert(i18next.t('messages.usernameExists'));
        return;
      }
      
      if (users.length >= 5) {
        alert(i18next.t('user.maxUsers'));
        return;
      }
      
      const userId = generateUUID();
      const newUser = {
        id: userId,
        name: name.trim(),
        storageKey: `weightTracker_${userId}`
      };
      
      users.push(newUser);
      saveUsers();
      renderUserManagement();
    }
    
    // Delete user
    function deleteUser(userId) {
      const user = users.find(u => u.id === userId);
      if (!user) return;
      
      if (user.name === 'Default User') {
        alert(i18next.t('user.defaultCannotDelete'));
        return;
      }
      
      if (!confirm(i18next.t('user.confirmDelete', { name: user.name }))) {
        return;
      }
      
      // Remove user's data from localStorage
      localStorage.removeItem(user.storageKey);
      localStorage.removeItem(`${user.storageKey}Unit`);
      localStorage.removeItem(`${user.storageKey}Target`);
      
      // Remove user from users array
      users = users.filter(u => u.id !== userId);
      
      // If deleted user was active, switch to default user
      if (activeUserId === userId) {
        const defaultUser = users.find(u => u.name === 'Default User');
        activeUserId = defaultUser ? defaultUser.id : (users.length > 0 ? users[0].id : null);
      }
      
      saveUsers();
      loadData();
      updateChart();
      renderUserManagement();
    }

    // Update current user display
    function updateCurrentUserDisplay() {
      const activeUser = getActiveUser();
      const displayElement = document.getElementById('currentUserName');
      if (displayElement && activeUser) {
        displayElement.textContent = activeUser.name;
      }
    }

    // User Management Modal Functions
    function openUserManagement() {
      renderUserManagement();
      const modal = document.getElementById('userManagementModal');
      modal.style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }

    function closeUserManagement() {
      const modal = document.getElementById('userManagementModal');
      modal.style.display = 'none';
      document.body.style.overflow = 'auto';
    }
    
    // Render user management UI
    function renderUserManagement() {
      const modalSection = document.querySelector('#userManagementModal .modal-section');
      const activeUser = getActiveUser();
      
      let html = `<div class="section-title">${i18next.t('user.userList')}</div>`;
      
      users.forEach(user => {
        const isActive = user.id === activeUserId;
        const isDefault = user.name === 'Default User';
        
        html += `
          <div class="user-item ${isActive ? 'active' : ''}" style="display: flex; align-items: center; justify-content: space-between; padding: 10px; margin: 5px 0; border: 1px solid #e2e8f0; border-radius: 6px; background: ${isActive ? '#f0f9ff' : '#ffffff'};">
            <div style="display: flex; align-items: center; gap: 10px;">
              <span style="font-weight: ${isActive ? 'bold' : 'normal'};">${user.name}</span>
              ${isActive ? `<span style="color: #10b981; font-size: 12px;">${i18next.t('user.active')}</span>` : ''}
            </div>
            <div style="display: flex; gap: 5px;">
              ${!isActive ? `<button class="modal-btn user-action-btn" onclick="switchUser('${user.id}')">${i18next.t('user.activate')}</button>` : ''}
              ${!isDefault ? `<button class="modal-btn danger user-action-btn" onclick="deleteUser('${user.id}')">${i18next.t('user.delete')}</button>` : ''}
            </div>
          </div>
        `;
      });
      
      html += `
        <div class="section-title" style="margin-top: 20px;">${i18next.t('user.addNewUser')} (${users.length}/5)</div>
        <div style="display: flex; gap: 10px; margin-top: 10px;">
          <input type="text" id="newUserName" placeholder="${i18next.t('user.enterUsername')}" style="flex: 1; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;" maxlength="20" ${users.length >= 5 ? 'disabled' : ''}>
          <button class="modal-btn" onclick="addUser(document.getElementById('newUserName').value); document.getElementById('newUserName').value = '';" ${users.length >= 5 ? 'disabled style="opacity: 0.5; cursor: not-allowed;"' : ''}>➕ ${i18next.t('user.add')}</button>
        </div>
        ${users.length >= 5 ? `<p style="color: #6b7280; font-size: 12px; margin-top: 5px;">${i18next.t('user.maxUsers')}</p>` : ''}
      `;
      
      modalSection.innerHTML = html;
    }

    // Settings Modal Functions
    function openSettings() {
      const modal = document.getElementById('settingsModal');
      const targetInput = document.getElementById('targetWeight');
      const targetUnitSpan = document.getElementById('targetUnit');
      const languageSelect = document.getElementById('languageSelect');
      
      // Update target weight input and unit
      targetInput.value = targetWeight || '';
      targetUnitSpan.textContent = currentUnit;
      
      // Populate language options
      if (languageSelect) {
        languageSelect.innerHTML = '';
        Object.keys(languageOptions).forEach(langCode => {
          const option = document.createElement('option');
          option.value = langCode;
          option.textContent = `${languageOptions[langCode].flag} ${languageOptions[langCode].name}`;
          languageSelect.appendChild(option);
        });
        
        // Set current language
        if (window.i18nextLoaded) {
          languageSelect.value = i18next.language || 'en';
        }
      }
      
      modal.style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }

    function closeSettings() {
      const modal = document.getElementById('settingsModal');
      modal.style.display = 'none';
      document.body.style.overflow = 'auto';
    }

    function setTargetWeight() {
      const targetInput = document.getElementById('targetWeight');
      const weight = parseFloat(targetInput.value);
      
      if (!weight || weight <= 0) {
        alert(i18next.t('messages.enterValidTargetWeight'));
        return;
      }
      
      targetWeight = weight;
      saveData();
      updateChart();
      alert(i18next.t('messages.targetSet'));
    }

    function clearTargetWeight() {
      if (confirm(i18next.t('settings.confirmClearTarget'))) {
        targetWeight = null;
        document.getElementById('targetWeight').value = '';
        saveData();
        updateChart();
        alert(i18next.t('messages.targetCleared'));
      }
    }

    function exportData() {
      if (weightEntries.length === 0) {
        alert('No data to export!');
        return;
      }
      
      let csv = 'Date,Weight,Unit,Change\n';
      
      weightEntries.forEach((entry, index) => {
        let change = '';
        if (index > 0) {
          const prevEntry = weightEntries[index - 1];
          const weightChange = entry.weight - prevEntry.weight;
          change = weightChange > 0 ? `+${weightChange.toFixed(1)}` : weightChange.toFixed(1);
        }
        csv += `${entry.date},${entry.weight},${entry.unit},"${change}"\n`;
      });
      
      // Add target weight if set
      if (targetWeight !== null) {
        csv += `\nTarget Weight,${targetWeight},${currentUnit},\n`;
      }
      
      const blob = new Blob([csv], { type: 'text/csv' });
      const url = window.URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `weight-tracker-${new Date().toISOString().split('T')[0]}.csv`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      window.URL.revokeObjectURL(url);
      
      alert('Data exported successfully!');
    }

    function exportImage() {
      if (!window.html2canvasLoaded) {
        alert('Image export feature is still loading. Please try again in a moment.');
        return;
      }

      if (weightEntries.length === 0) {
        alert('No data to export! Please add some weight entries first.');
        return;
      }

      // Close the settings modal first
      closeSettings();

      // Wait a moment for modal to close, then capture
      setTimeout(() => {
        // Create a temporary container to capture stats and chart together
        const exportContainer = document.createElement('div');
        exportContainer.style.cssText = `
          position: fixed;
          top: -9999px;
          left: -9999px;
          width: 900px;
          background: white;
          padding: 30px;
          border-radius: 15px;
          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        `;

        // Add title
        const title = document.createElement('div');
        title.innerHTML = '<h2 style="text-align: center; color: #0f172a; margin-bottom: 20px; font-size: 28px; font-weight: 600;">⚖️ Weight Tracker Report</h2>';
        exportContainer.appendChild(title);

        // Clone and add stats
        const statsGrid = document.querySelector('.stats-grid');
        const statsClone = statsGrid.cloneNode(true);
        statsClone.style.marginBottom = '30px';
        exportContainer.appendChild(statsClone);

        // Clone and add chart container
        const chartContainer = document.querySelector('.chart-container');
        const chartClone = chartContainer.cloneNode(true);
        chartClone.style.height = '400px';
        chartClone.style.marginBottom = '20px';
        
        // Remove loading overlay from clone
        const loadingOverlay = chartClone.querySelector('#loadingOverlay');
        if (loadingOverlay) loadingOverlay.remove();
        
        // Remove empty state from clone
        const emptyState = chartClone.querySelector('#chartEmptyState');
        if (emptyState) emptyState.remove();
        
        exportContainer.appendChild(chartClone);

        // Add date footer
        const footer = document.createElement('div');
        footer.innerHTML = `
          <p style="text-align: center; color: #64748b; font-size: 14px; margin-top: 20px;">Generated on ${new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}</p>
          <p style="text-align: center; color: #cbd5e0; font-size: 11px; margin-top: 8px; opacity: 0.6; font-weight: 300;">Created with www.itwork.club/weight/</p>
        `;
        exportContainer.appendChild(footer);

        document.body.appendChild(exportContainer);

        // Recreate the chart in the clone
        const clonedCanvas = chartClone.querySelector('canvas');
        if (clonedCanvas && chart) {
          const ctx = clonedCanvas.getContext('2d');
          
          // Copy chart configuration
          const chartConfig = {
            type: chart.config.type,
            data: JSON.parse(JSON.stringify(chart.data)),
            options: JSON.parse(JSON.stringify(chart.options))
          };

          const tempChart = new Chart(ctx, chartConfig);

          // Wait for chart to render, then capture
          setTimeout(() => {
            html2canvas(exportContainer, {
              backgroundColor: '#ffffff',
              scale: 2,
              useCORS: true,
              allowTaint: false
            }).then(canvas => {
              // Convert to blob and download
              canvas.toBlob(blob => {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `weight-tracker-report-${new Date().toISOString().split('T')[0]}.png`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
              }, 'image/png');
              
              // Clean up
              tempChart.destroy();
              document.body.removeChild(exportContainer);
            }).catch(error => {
              console.error('Error capturing image:', error);
              alert('Failed to export image. Please try again.');
              document.body.removeChild(exportContainer);
            });
          }, 500);
        } else {
          // No chart available, capture stats only
          html2canvas(exportContainer, {
            backgroundColor: '#ffffff',
            scale: 2,
            useCORS: true,
            allowTaint: false
          }).then(canvas => {
            canvas.toBlob(blob => {
              const url = URL.createObjectURL(blob);
              const a = document.createElement('a');
              a.href = url;
              a.download = `weight-tracker-stats-${new Date().toISOString().split('T')[0]}.png`;
              document.body.appendChild(a);
              a.click();
              document.body.removeChild(a);
              URL.revokeObjectURL(url);
            }, 'image/png');
            
            document.body.removeChild(exportContainer);
          }).catch(error => {
            console.error('Error capturing image:', error);
            alert('Failed to export image. Please try again.');
            document.body.removeChild(exportContainer);
          });
        }
      }, 300);
    }

    function clearAllData() {
      const activeUser = getActiveUser();
      if (!activeUser) return;
      
      if (confirm('Are you sure you want to clear all weight data for the current user? This action cannot be undone.')) {
        weightEntries = [];
        targetWeight = null;
        localStorage.removeItem(activeUser.storageKey);
        localStorage.removeItem(`${activeUser.storageKey}Unit`);
        localStorage.removeItem(`${activeUser.storageKey}Target`);
        updateStats();
        updateChart();
        updateEntriesList();
        closeSettings();
        alert('All data for the current user has been cleared.');
      }
    }

    // Close modal when clicking outside
    document.getElementById('settingsModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeSettings();
      }
    });

    // Load data from localStorage
    function loadData() {
      const activeUser = getActiveUser();
      if (!activeUser) return;
      
      const stored = localStorage.getItem(activeUser.storageKey);
      const storedUnit = localStorage.getItem(`${activeUser.storageKey}Unit`);
      const storedTarget = localStorage.getItem(`${activeUser.storageKey}Target`);
      
      if (stored) {
        weightEntries = JSON.parse(stored);
        updateStats();
        updateEntriesList();
      } else {
        weightEntries = [];
        updateStats();
        updateEntriesList();
      }
      
      if (storedUnit) {
        currentUnit = storedUnit;
        updateUnitButtons();
      } else {
        currentUnit = 'kg';
        updateUnitButtons();
      }
      
      if (storedTarget) {
        targetWeight = parseFloat(storedTarget);
      } else {
        targetWeight = null;
      }
    }

    // Save data to localStorage
    function saveData() {
      const activeUser = getActiveUser();
      if (!activeUser) return;
      
      localStorage.setItem(activeUser.storageKey, JSON.stringify(weightEntries));
      localStorage.setItem(`${activeUser.storageKey}Unit`, currentUnit);
      if (targetWeight !== null) {
        localStorage.setItem(`${activeUser.storageKey}Target`, targetWeight.toString());
      } else {
        localStorage.removeItem(`${activeUser.storageKey}Target`);
      }
    }

    // Add weight entry
    function addWeight() {
      const weightInput = document.getElementById('weightInput');
      const weight = parseFloat(weightInput.value);

      if (!weight || weight <= 0) {
        alert(i18n.t('messages.enterValidWeight'));
        return;
      }

      const today = new Date().toISOString().split('T')[0];
      
      // Check if entry for today already exists
      const existingIndex = weightEntries.findIndex(entry => entry.date === today);
      
      if (existingIndex !== -1) {
        if (confirm(i18n.t('messages.updateTodayEntry'))) {
          weightEntries[existingIndex] = {
            date: today,
            weight: weight,
            unit: currentUnit,
            timestamp: new Date().toISOString()
          };
        } else {
          return;
        }
      } else {
        weightEntries.push({
          date: today,
          weight: weight,
          unit: currentUnit,
          timestamp: new Date().toISOString()
        });
      }

      // Sort entries by date
      weightEntries.sort((a, b) => new Date(a.date) - new Date(b.date));

      saveData();
      updateStats();
      updateChart();
      updateEntriesList();
      
      // Clear input
      weightInput.value = '';
      
      // Show success feedback
      const btn = document.querySelector('.add-btn');
      const originalText = btn.textContent;
      btn.textContent = '✓ Added!';
      btn.style.background = 'linear-gradient(45deg, #10b981, #059669)';
      
      setTimeout(() => {
        btn.textContent = originalText;
        btn.style.background = '';
      }, 2000);
    }

    // Update unit buttons
    function updateUnitButtons() {
      document.querySelectorAll('.unit-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.dataset.unit === currentUnit) {
          btn.classList.add('active');
        }
      });
    }

    // Update statistics
    function updateStats() {
      const currentWeightEl = document.getElementById('currentWeight');
      const startWeightEl = document.getElementById('startWeight');
      const totalChangeEl = document.getElementById('totalChange');
      const totalEntriesEl = document.getElementById('totalEntries');

      if (weightEntries.length === 0) {
        currentWeightEl.textContent = '--';
        startWeightEl.textContent = '--';
        totalChangeEl.textContent = '--';
        totalEntriesEl.textContent = '0';
        return;
      }

      const current = weightEntries[weightEntries.length - 1];
      const start = weightEntries[0];
      const change = current.weight - start.weight;

      currentWeightEl.textContent = `${current.weight} ${current.unit}`;
      startWeightEl.textContent = `${start.weight} ${start.unit}`;
      
      const changeText = change > 0 ? `+${change.toFixed(1)}` : change.toFixed(1);
      totalChangeEl.textContent = `${changeText} ${current.unit}`;
      totalChangeEl.style.color = change > 0 ? '#dc2626' : change < 0 ? '#16a34a' : '#64748b';
      
      totalEntriesEl.textContent = weightEntries.length;
    }

    // Update chart
    function updateChart() {
      if (!window.chartJsLoaded || typeof Chart === 'undefined') {
        return; // Wait until Chart.js is loaded
      }

      // Hide loading overlay
      const loadingOverlay = document.getElementById('loadingOverlay');
      const chartCanvas = document.getElementById('weightChart');
      const chartEmptyState = document.getElementById('chartEmptyState');
      
      if (loadingOverlay) {
        loadingOverlay.style.display = 'none';
      }

      // Show empty state if no entries
      if (weightEntries.length === 0) {
        chartCanvas.style.display = 'none';
        chartEmptyState.style.display = 'block';
        return;
      }

      // Show chart and hide empty state
      chartCanvas.style.display = 'block';
      chartEmptyState.style.display = 'none';

      const ctx = chartCanvas.getContext('2d');

      if (chart) {
        chart.destroy();
      }

      const labels = weightEntries.map(entry => {
        const date = new Date(entry.date);
        return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
      });

      const data = weightEntries.map(entry => entry.weight);

      // Prepare annotations for target weight line
      const annotations = {};
      if (targetWeight !== null) {
        annotations.targetLine = {
          type: 'line',
          yMin: targetWeight,
          yMax: targetWeight,
          borderColor: '#ef4444',
          borderWidth: 2,
          borderDash: [5, 5],
          label: {
            content: `Target Weight ${targetWeight} ${currentUnit}`,
            enabled: true,
            position: 'end',
            backgroundColor: '#ef4444',
            color: 'white',
            padding: 4,
            borderRadius: 4
          }
        };
      }

      chart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: labels,
          datasets: [{
            label: `Weight (${currentUnit})`,
            data: data,
            borderColor: '#3b82f6',
            backgroundColor: 'rgba(59, 130, 246, 0.1)',
            borderWidth: 3,
            fill: true,
            tension: 0.4,
            pointBackgroundColor: '#3b82f6',
            pointBorderColor: '#ffffff',
            pointBorderWidth: 2,
            pointRadius: 6,
            pointHoverRadius: 8
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false
            },
            annotation: {
              annotations: annotations
            }
          },
          scales: {
            y: {
              beginAtZero: false,
              grid: {
                color: '#f1f5f9'
              },
              ticks: {
                color: '#64748b'
              }
            },
            x: {
              grid: {
                color: '#f1f5f9'
              },
              ticks: {
                color: '#64748b'
              }
            }
          },
          elements: {
            point: {
              hoverBackgroundColor: '#1e40af'
            }
          }
        }
      });
    }

    // Update entries list
    function updateEntriesList() {
      const entriesList = document.getElementById('entriesList');

      if (weightEntries.length === 0) {
        entriesList.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">📊</div>
            <p>No weight entries yet. Add your first weight above!</p>
          </div>
        `;
        return;
      }

      const recentEntries = [...weightEntries].reverse().slice(0, 10);

      const entriesHTML = recentEntries.map((entry, index) => {
        const date = new Date(entry.date).toLocaleDateString('en-US', { 
          weekday: 'short', 
          month: 'short', 
          day: 'numeric' 
        });

        let changeText = '';
        let changeClass = 'neutral';

        if (index < recentEntries.length - 1) {
          const prevEntry = recentEntries[index + 1];
          const change = entry.weight - prevEntry.weight;
          
          if (change !== 0) {
            changeText = change > 0 ? `+${change.toFixed(1)}` : change.toFixed(1);
            changeClass = change > 0 ? 'positive' : 'negative';
          }
        }

        return `
          <div class="entry-item">
            <div class="entry-date">${date}</div>
            <div class="entry-weight">${entry.weight} ${entry.unit}</div>
            ${changeText ? `<div class="entry-change ${changeClass}">${changeText}</div>` : '<div></div>'}
            <button class="delete-btn" onclick="deleteEntry('${entry.date}')">×</button>
          </div>
        `;
      }).join('');

      entriesList.innerHTML = entriesHTML;
    }

    // Delete entry
    function deleteEntry(date) {
      if (confirm('Are you sure you want to delete this entry?')) {
        weightEntries = weightEntries.filter(entry => entry.date !== date);
        saveData();
        updateStats();
        updateChart();
        updateEntriesList();
      }
    }

    // Initialize chart when Chart.js is ready
    window.initChart = function() {
      console.log('Chart.js ready, initializing chart...');
      updateChart();
    };

    // Initialize app immediately when DOM is ready
    document.addEventListener('DOMContentLoaded', function() {
      console.log('DOM loaded, initializing app...');
      
      // Initialize user management system
      initializeUsers();
      
      // Load data and update UI immediately
      loadData();
      
      // Update current user display
      updateCurrentUserDisplay();
      
      // Set up event listeners
      document.querySelectorAll('.unit-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          currentUnit = this.dataset.unit;
          updateUnitButtons();
          saveData();
          updateStats();
          updateChart();
          updateEntriesList();
        });
      });

      document.getElementById('weightInput').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          addWeight();
        }
      });

      // Auto-focus weight input
      document.getElementById('weightInput').focus();
      
      // Try to initialize chart if Chart.js is already loaded
      if (window.chartJsLoaded && typeof Chart !== 'undefined') {
        updateChart();
      }
    });

    // Global method to load mock data for testing (call from console)
    window.loadMockData = function() {
      console.log('Loading mock weight data...');
      
      // Clear existing data first
      weightEntries = [];
      targetWeight = 75; // Set a target weight for demo
      
      // Generate mock data for the last 30 days
      const mockData = [];
      const today = new Date();
      let baseWeight = 80; // Starting weight
      
      for (let i = 29; i >= 0; i--) {
        const date = new Date(today);
        date.setDate(date.getDate() - i);
        
        // Add some realistic weight variation (-0.5 to +0.5 kg per day)
        const variation = (Math.random() - 0.5) * 1; // Random between -0.5 and 0.5
        baseWeight += variation;
        
        // Add some overall trending (slight weight loss over time)
        baseWeight -= 0.02; // Slight downward trend
        
        // Keep weight in reasonable range
        baseWeight = Math.max(70, Math.min(85, baseWeight));
        
        mockData.push({
          date: date.toISOString().split('T')[0],
          weight: Math.round(baseWeight * 10) / 10, // Round to 1 decimal
          unit: 'kg',
          timestamp: date.toISOString()
        });
      }
      
      // Set the mock data
      weightEntries = mockData;
      currentUnit = 'kg';
      
      // Save to localStorage
      localStorage.setItem('weightTracker', JSON.stringify(weightEntries));
      localStorage.setItem('weightTrackerUnit', currentUnit);
      localStorage.setItem('weightTrackerTarget', targetWeight.toString());
      
      console.log(`Loaded ${mockData.length} mock weight entries`);
      console.log('Weight range:', Math.min(...mockData.map(d => d.weight)).toFixed(1), 'to', Math.max(...mockData.map(d => d.weight)).toFixed(1), 'kg');
      console.log('Target weight set to:', targetWeight, 'kg');
      console.log('Refresh the page to see the mock data!');
      
      return {
        entriesCount: mockData.length,
        weightRange: [Math.min(...mockData.map(d => d.weight)), Math.max(...mockData.map(d => d.weight))],
        targetWeight: targetWeight,
        unit: currentUnit
      };
    };

    // Global method to clear all data (call from console)
    window.clearMockData = function() {
      console.log('Clearing all weight data...');
      localStorage.removeItem('weightTracker');
      localStorage.removeItem('weightTrackerUnit');
      localStorage.removeItem('weightTrackerTarget');
      console.log('All data cleared! Refresh the page to see the empty state.');
    };
  </script>
</body>
</html>